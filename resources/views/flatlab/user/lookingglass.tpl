





{include file='user/main.tpl'}
	<!-- <link rel="stylesheet" type="text/css" href="/theme/flatlab/assets/vultr/css/core.css"> -->
	<!-- <link href="/statics/css/main.css?v=1" rel="stylesheet"> -->
	<link rel="stylesheet" type="text/css" href="/theme/flatlab/assets/vultr/css/custom.css">
	<style>
		@font-face {
			font-family: 'icons';
			src:url('/theme/flatlab/assets/vultr/fonts/icons/icons.eot');
			src:url('/theme/flatlab/assets/vultr/fonts/icons/icons.eot') format('embedded-opentype'),
			url('/theme/flatlab/assets/vultr/fonts/icons/icons.ttf') format('truetype'),
			url('/theme/flatlab/assets/vultr/fonts/icons/icons.woff') format('woff'),
			url('/theme/flatlab/assets/vultr/fonts/icons/icons.svg') format('svg');
			font-weight: normal;
			font-style: normal;
		}
	</style>
	<style>
	.location-13 {
		top: 323px;
		right: 290px;
	}
	.location-13 .location-name {
		bottom: -40px;
		left: 50px;
	}
	.location-13 .location-name:after {
		bottom: 35px;
		left: -48px;
		width: 54px;
		-webkit-transform: rotate(25deg);
		transform: rotate(25deg);
	}
	.location-taiwan {
		top: 235px;
		right: 210px;
	}
	.location-taiwan .location-name {
		bottom: -8px;
		left: 52px;
	}
	.location-taiwan .location-name:after {
		bottom: 13px;
		left: -42px;
		width: 54px;
		-webkit-transform: rotate(0deg);
		transform: rotate(0deg);
	}
	.location-kr {
		top: 200px;
		right: 200px;
	}
	.location-kr .location-name {
		bottom: 48px;
		left: -103px;
	}
	.location-kr .location-name:after {
		bottom: -11px;
		left: 23px;
		width: 93px;
		-webkit-transform: rotate(215deg);
		transform: rotate(215deg);
	}
	.location-10 {
		top: 170px;
		right: 154px;
	}
	.location-10 .location-name {
		bottom: 78px;
		left: 30px;
	}
	.location-10 .location-name:after {
		bottom: -36px;
		left: -45px;
		width: 72px;
		-webkit-transform: rotate(294deg);
		transform: rotate(294deg);
	}
	.location-8 {
		top: 207px;
		right: 176px;
	}
	.location-8 .location-name {
		bottom: 111px;
		left: -69px;
	}
	.location-8 .location-name:after {
		bottom: -45px;
		left: -5px;
		width: 118px;
		-webkit-transform: rotate(251deg);
		transform: rotate(251deg);
	}
	.location-cn-bj {
		top: 190px;
		right: 247px;
	}
	.location-cn-bj .location-name {
		bottom: 30px;
		left: -161px;
	}
	.location-cn-bj .location-name:after {
		bottom: -12px;
		left: 66px;
		width: 104px;
		-webkit-transform: rotate(192deg);
		transform: rotate(192deg);
	}
	.location-cn-qd {
		top: 204px;
		right: 241px;
	}
	.location-cn-qd .location-name {
		bottom: -11px;
		left: -170px;
	}
	.location-cn-qd .location-name:after {
		bottom: 16px;
		left: 70px;
		width: 104px;
		-webkit-transform: rotate(172deg);
		transform: rotate(179deg);
	}
	.location-cn-sh {
		top: 227px;
		right: 239px;
	}
	.location-cn-sh .location-name {
		bottom: -4px;
		left: -73px;
	}
	.location-cn-sh .location-name:after {
		bottom: 13px;
		left: 45px;
		width: 37px;
		-webkit-transform: rotate(189deg);
		transform: rotate(189deg);
	}
	
	.location-9 {
		top: 227px;
		left: 169px;
	}
	.location-9 .location-name {
		bottom: -90px;
		left: -36px;
	}
	.location-9 .location-name:after {
		bottom: 61px;
		left: 7px;
		width: 71px;
		-webkit-transform: rotate(90deg);
		transform: rotate(90deg);
	}
	
	.location-12 .location-name {
		bottom: -53px;
		left: 50px;
	}
	.location-12 .location-name:after {
		bottom: 41px;
		left: -43px;
		width: 64px;
		-webkit-transform: rotate(25deg);
		transform: rotate(25deg);
	}
	.location-pin-game, .location-pin-game:after {
		background-color: #3cb526;
		-webkit-border-radius: 100%;
		-moz-border-radius: 100%;
		border-radius: 100%;
	}
	.location-pin-ultra, .location-pin-ultra:after {
		background-color: #ffffff;
		-webkit-border-radius: 100%;
		-moz-border-radius: 100%;
		border-radius: 100%;
	}
	.location-pin-down, .location-pin-down:after {
		background-color: #e41e1e;
		-webkit-border-radius: 100%;
		-moz-border-radius: 100%;
		border-radius: 100%;
	}
	.location-name-game span{
		background-color: #379c28;
	}
	.location-name-ultra span{
		background-color: #ffffff;
		color: black;
		font-weight: bolder;
	}
	.location-name-ultra span div{
		color: #ffffff;
	}
	.location-name-down span{
		background-color: #e41e1e;
	}
	.location-london .location-name {
		bottom: 64px;
		right: 44px;
	}
	.location-london .location-name:after {
		bottom: -29px;
		right: -50px;
		width: 80px;
		-webkit-transform: rotate(45deg);
		transform: rotate(45deg);
	}
	</style>



      <!--main content start-->
      <section id="main-content">
          <section class="wrapper site-min-height">
            <!-- page start-->
            <h2 class="page-title"><i class="icon-magnifier"></i>&nbsp;观察窗 | <small>Monitor</small></h2>


            <div class="col-lg-10 col-lg-offset-1">
	                        	<div class="alert alert-block alert-warning fade in">
	                                    <button data-dismiss="alert" class="close close-sm" type="button">
                                      <i class="fa fa-times"></i>
                                  </button>
	                                    <p><i class="fa fa-warning"></i>
	                                    &nbsp;注意：此处只展示最近{$hour}小时的记录。
	                                    </p>
	                                    <p>数据只供参考。由于客户端、所在地区、网络供应商的差异以及网络波动等不定因素影响，真实体验会有所不同。</p>
	                                    <p>测速推荐在全局模式下访问 <a href="http://beta.speedtest.net/run" target="_blank">SpeedTest.Net</a></p>
	                            </div>
	        </div>

	        <div class="col-lg-10 col-lg-offset-1">
				<div class="page-wrapper">
		<div class="page-section section-dark section-center ">
			<div class="container">
				<h4 class="section-title">当前正加速 <span id="total" style="font-size:32px;"></span> 带宽</h4>
				<h2 class="section-title">带给您全球最优线路节点</h2>

				<div class="location-map location-map-lg">
					<div class="location-container">
						{foreach $speedtest as $single}
						<div class="location location-{{$single->node()->id}} animate zoomIn">
							<span class="location-name"><span>{$single->node()->name}<div id="{$single->node()->id}">{$single->unicomupload}</div></span></span><span class="location-pin"></span>
						</div>
						{/foreach}
						<div class="location location-london animate zoomIn">
							<span class="location-name"><span>伦敦DO - Shadowsocks <div id="bdw_london">57.9 Mbit/s</div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-cn-bj animate zoomIn">
							<span class="location-name location-name-ultra"><span>北京 - 国内中转 <div id="bdw_cnbj">87.3 Mbit/s</div></span></span><span class="location-pin location-pin-ultra"></span>
						</div>
						<div class="location location-cn-qd animate zoomIn">
							<span class="location-name location-name-ultra"><span>青岛 - 国内中转<div id="bdw_cnqd">78.0 Mbit/s</div></span></span><span class="location-pin location-pin-ultra"></span>
						</div>
						<!-- <div class="location location-la animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>洛杉矶 <div id="11"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-chicago animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>旧金山 <div id="6"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-tokyo animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>东京 <div id="10"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-hongkong animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>香港 <div id="12"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-taiwan animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>台湾 <div id="bdw_tw"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-sgp animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>新加坡 <div id="13"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-kr animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name location-name-game"><span>韩国 <div id="bdw_kr"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-jphok animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name location-name-game"><span>北海道 <div id="bdw_ijj"></div></span></span><span class="location-pin location-pin-game"></span>
						</div>
						<div class="location location-jposk animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>大阪 <div id="8"></div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-cn-bj animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name location-name-ultra"><span>北京 <div id="bdw_cnbj">87.3 Mbit/s</div></span></span><span class="location-pin location-pin-game"></span>
						</div>
						<div class="location location-cn-qd animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name location-name-ultra"><span>青岛 <div id="bdw_cnqd">78.0 Mbit/s</div></span></span><span class="location-pin location-pin-game"></span>
						</div>
						<div class="location location-cn-sh animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name location-name-ultra"><span>上海 <div id="bdw_cnsh">79.0 Mbit/s</div></span></span><span class="location-pin"></span>
						</div>
						<div class="location location-london animate zoomIn" style="visibility: visible; animation-name: zoomIn;">
							<span class="location-name"><span>伦敦 <div id="bdw_london">57.9 Mbit/s</div></span></span><span class="location-pin"></span>
						</div> -->
						<div class="map"></div>
					</div>
					<div class="actions text-left">
						<a style="margin-left: 21px;"><span class="location-pin" style="position:absolute;margin-top: 6px;"></span>普通节点</a><br>
						<a style="margin-left: 21px;"><span class="location-pin location-pin-game" style="position:absolute;margin-top: 6px;"></span>游戏节点</a><br>
						<a style="margin-left: 21px;"><span class="location-pin location-pin-ultra" style="position:absolute;margin-top: 6px;"></span>中转节点</a><br>
						<a style="margin-left: 21px;"><span class="location-pin location-pin-down" style="position:absolute;margin-top: 6px;"></span>节点异常</a>
					</div>
				</div>
			</div>
		</div>
	    <!-- /.page-banner -->
	</div>
	        </div>


			<!-- <div class="col-lg-10 col-lg-offset-1">
				<iframe src="/user/map" frameborder="0" scrolling="no" width="100%" height="600px"></iframe>
			</div> -->

			<div class="col-lg-10 col-lg-offset-1">
				<div class="panel">
					<div class="panel-body text-center">
						<div class="table-responsive table-hover"">
												<table class="table">
													<tr>
														<th style="border:0;">节点</th>
														<th style="border:0;">电信延迟</th>
														<th style="border:0;">电信下载速度</th>
														<th style="border:0;">电信上传速度</th>
														<th style="border:0;">联通延迟</th>
														<th style="border:0;">联通下载速度</th>
														<th style="border:0;">联通上传速度</th>
														<th style="border:0;">移动延迟</th>
														<th style="border:0;">移动下载速度</th>
														<th style="border:0;">移动上传速度</th>
													</tr>
													{foreach $speedtest as $single}
														<tr>
															<td>{$single->node()->name}</td>
															<td>{$single->telecomping}</td>
															<td>{$single->telecomeupload}</td>
															<td>{$single->telecomedownload}</td>
															<td>{$single->unicomping}</td>
															<td>{$single->unicomupload}</td>
															<td>{$single->unicomdownload}</td>
															<td>{$single->cmccping}</td>
															<td>{$single->cmccupload}</td>
															<td>{$single->cmccdownload}</td>
														</tr>
													{/foreach}
												</table>
											</div>
					</div>
					
				</div>
			</div>




              <!-- page end-->
          </section>
      </section>
      <!--main content end-->






{include file='user/footer.tpl'}


<script src="/theme/flatlab/assets/vultr/js/core.min.js"></script>
	<script src="/theme/flatlab/assets/vultr/js/global.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			var t=223.20;
			var s;
			{foreach $speedtest as $single}
			// $("#{$single->node()->id}").html("{$single->unicomupload}");
			s="{$single->unicomupload}";
			s=s.substring(-7);
			if (parseFloat(s)<10)
				$("#{$single->node()->id}").parent(".location").addClass(".location-pin-down");

			t+=parseFloat(s);
			{/foreach}
			if (t>1024){
				t=t/1024;
				$("#total").html(t.toFixed(2)+ "Gbit/s");
			}
			else
			$("#total").html(t+" Mbit/s");
		});
	</script>